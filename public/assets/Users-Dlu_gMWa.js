import{j as e,L as m,r as n,a as h}from"./index-CkTn6Lmz.js";import{C as c}from"./Card-YHaYoNZJ.js";import{u as o,E as x}from"./http-hook-wdNFrn97.js";const j=s=>e.jsx("div",{className:`avatar ${s.className}`,style:s.style,children:e.jsx("img",{src:s.image,alt:s.alt,style:{width:s.width,height:s.width}})}),u=s=>e.jsx("li",{className:"user-item",children:e.jsx(c,{className:"user-item__content",children:e.jsxs(m,{to:`/${s.id}/places`,children:[e.jsx("div",{className:"user-item__image",children:e.jsx(j,{image:`http://localhost:5000/${s.image}`,alt:s.name})}),e.jsxs("div",{className:"user-item__info",children:[e.jsx("h2",{children:s.name}),e.jsxs("h3",{children:[s.placeCount," ",s.placeCount===1?"Place":"Places"]})]})]})})}),g=s=>s.items.length===0?e.jsx("div",{className:"center",children:e.jsx(c,{children:e.jsx("h2",{children:"No Users Found"})})}):e.jsx("ul",{className:"users-list",children:s.items.map(t=>e.jsx(u,{id:t.id,image:t.image,name:t.name,placeCount:t.places.length},t.id))}),C=()=>{const[s,t]=n.useState(),{isLoading:a,error:l,sendRequest:r,clearError:d}=o();return n.useEffect(()=>{(async()=>{try{const i=await r("http://localhost:5000/api/users/");t(i.users)}catch{}})()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(x,{error:l,onClear:d}),a&&e.jsx("div",{className:"center",children:e.jsx(h,{})}),!a&&s&&e.jsx(g,{items:s})]})};export{C as default};
