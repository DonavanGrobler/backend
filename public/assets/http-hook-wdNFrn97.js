import{j as t,B as b,C as j,L as g,r as o}from"./index-CkTn6Lmz.js";const C=e=>t.jsxs("div",{className:`modal ${e.className}`,style:e.style,children:[t.jsx("header",{className:`modal__header ${e.headerClass}`,children:t.jsx("h2",{children:e.header})}),t.jsxs("form",{onSubmit:e.onSubmit?e.onSubmit:r=>r.preventDefault(),children:[t.jsx("div",{className:`modal__content ${e.contentClass}`,children:e.children}),t.jsx("footer",{className:`modal__footer ${e.footerClass}`,children:e.footer})]})]}),w=e=>t.jsxs(t.Fragment,{children:[e.show&&t.jsx(b,{onClick:e.onCancel}),t.jsx(j,{in:e.show,mountOnEnter:!0,unmountOnExit:!0,timeout:200,classNames:"modal",children:t.jsx(C,{...e})})]}),E=e=>e.href?t.jsx("a",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,href:e.href,children:e.children}):e.to?t.jsx(g,{to:e.to,exact:e.exact,className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,children:e.children}):t.jsx("button",{className:`button button--${e.size||"default"} ${e.inverse&&"button--inverse"} ${e.danger&&"button--danger"}`,type:e.type,onClick:e.onClick,disabled:e.disabled,children:e.children}),k=e=>t.jsx(w,{onCancel:e.onClear,header:"An Error Occurred!",show:!!e.error,footer:t.jsx(E,{onClick:e.onClear,children:"Okay"}),children:t.jsx("p",{children:e.error})}),N=()=>{const[e,r]=o.useState(!1),[i,c]=o.useState(null),a=o.useRef([]),u=o.useCallback(async(d,h="GET",m=null,f={})=>{r(!0);const s=new AbortController;a.current.push(s);try{const n=await fetch(d,{method:h,body:m,headers:f,signal:s.signal}),l=await n.json();if(a.current=a.current.filter(x=>x!==s),!n.ok)throw new Error(l.message||"Something went wrong");return r(!1),l}catch(n){throw n.name!=="AbortError"&&(c(n.message||"Something went wrong"),r(!1)),a.current=a.current.filter(l=>l!==s),n}},[]);return{isLoading:e,error:i,sendRequest:u,clearError:()=>{c(null)}}};export{E as B,k as E,w as M,N as u};
